<mvc:View
	controllerName="buecherverwaltung.app.controller.Main"
	displayBlock="true"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	core:require="{
		formatter: 'buecherverwaltung/app/model/formatter'
	}">

	<Page
		title="{i18n>appTitle}"
		id="page">
		<content>

			<!-- Book Creation Form -->
			<Panel 
				headerText="Neues Buch hinzufügen" 
				expandable="true" 
				expanded="false" 
				width="auto"
				class="sapUiResponsiveMargin">
					<VBox class="sapUiSmallMargin">
						<Label text="Titel" labelFor="titleInput"/>
						<Input id="titleInput" placeholder="Buchtitel eingeben..." />

						<Label text="Autor" labelFor="authorInput"/>
						<Input id="authorInput" placeholder="Autor eingeben..." />

						<Label text="Angelegt von" labelFor="createdByInput"/>
						<Input id="createdByInput" placeholder="Ihren Namen eingeben..." />

						<Button text="Buch hinzufügen" type="Emphasized" press="onAddBook" class="sapUiSmallMarginTop" />
					</VBox>
			</Panel>

		  <Panel headerText="Filtern nach Datum" width="auto" class="sapUiResponsiveMargin">
				<VBox class="sapUiSmallMargin">
					<DatePicker id="startDatePicker" placeholder="Startdatum" class="sapUiTinyMarginBegin"/>
					<DatePicker id="endDatePicker" placeholder="Enddatum" class="sapUiTinyMarginBegin"/>
					<Button text="Filtern" press="._onFilterByDate" class="sapUiTinyMarginBegin" />
				</VBox>
			</Panel>

			<!-- Books List Table -->
      <Table
        id="booksTable"
        items="{
          path: 'booksModel>/books'
        }"
				width="auto"
				class="sapUiResponsiveMargin">
        
        <headerToolbar>
          <Toolbar>
            <Title text="Bücherliste" level="H2"/>

						<ToolbarSpacer />

					</Toolbar>
        </headerToolbar>

        <columns>
          <Column><Text text="Titel" /></Column>
          <Column><Text text="Autor" /></Column>
          <Column><Text text="Angelegt am" /></Column>
          <Column><Text text="Angelegt von" /></Column>
					<!-- Delete Column -->
          <Column width="5rem"><Text text=""/></Column>
        </columns>

        <items>
          <ColumnListItem>
            <cells>
              <Text text="{booksModel>title}" />
              <Text text="{booksModel>author}" />
              <Text text="{path: 'booksModel>createdAt', formatter: 'formatter.formatDate'}" />
              <Text text="{booksModel>createdBy}" />
							<HBox 
								justifyContent="End"  
								fitContainer="true"
								class="sapUiSmallMarginRight">
								<Button icon="sap-icon://edit"
												tooltip="Bearbeiten"
												type="Emphasized"
												press=".onEditBook"/>
							</HBox>
            </cells>
          </ColumnListItem>
        </items>
      </Table>
		</content>
	</Page>

</mvc:View>
